<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title><%= content_for(:title) || "Fast Track - Candidature" %></title>
    <meta name="description" content="Candidature simplifiÃ©e pour les marchÃ©s publics via Fast Track">
    
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <style>
      /* Candidate-specific styles */
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f8fafc;
        margin: 0;
        padding: 0;
      }
      
      .candidate-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem 1rem;
      }
      
      .candidate-header {
        text-align: center;
        margin-bottom: 2rem;
        padding: 1.5rem;
        background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
        color: white;
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }
      
      .candidate-header h1 {
        margin: 0 0 0.5rem 0;
        font-size: 1.875rem;
        font-weight: 700;
      }
      
      .candidate-header .subtitle {
        margin: 0;
        opacity: 0.9;
        font-size: 1.125rem;
      }
      
      .step-indicator {
        display: flex;
        justify-content: center;
        margin-bottom: 2rem;
        padding: 0;
        list-style: none;
      }
      
      .step-indicator li {
        position: relative;
        flex: 1;
        max-width: 200px;
        text-align: center;
        padding: 0.75rem;
        color: #6b7280;
        font-weight: 500;
        font-size: 0.875rem;
      }
      
      .step-indicator li:not(:last-child)::after {
        content: '';
        position: absolute;
        top: 50%;
        right: -1px;
        width: 2px;
        height: 20px;
        background-color: #e5e7eb;
        transform: translateY(-50%);
      }
      
      .step-indicator li.completed {
        color: #059669;
        font-weight: 600;
      }
      
      .step-indicator li.active {
        color: #1d4ed8;
        font-weight: 600;
      }
      
      .candidate-card {
        background: white;
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        margin-bottom: 2rem;
      }
      
      .candidate-card-header {
        padding: 1.5rem;
        border-bottom: 1px solid #e5e7eb;
        background-color: #f9fafb;
      }
      
      .candidate-card-body {
        padding: 2rem;
      }
      
      .alert {
        padding: 1rem;
        border-radius: 0.5rem;
        margin-bottom: 1.5rem;
      }
      
      .alert-success {
        background-color: #ecfdf5;
        border: 1px solid #a7f3d0;
        color: #065f46;
      }
      
      .alert-error {
        background-color: #fef2f2;
        border: 1px solid #fecaca;
        color: #991b1b;
      }
      
      .alert-warning {
        background-color: #fffbeb;
        border: 1px solid #fed7aa;
        color: #92400e;
      }
      
      .btn {
        display: inline-block;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 0.5rem;
        text-decoration: none;
        font-weight: 600;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
        font-size: 1rem;
      }
      
      .btn-primary {
        background-color: #1d4ed8;
        color: white;
      }
      
      .btn-primary:hover {
        background-color: #1e40af;
      }
      
      .btn-primary:disabled {
        background-color: #9ca3af;
        cursor: not-allowed;
      }
      
      .btn-secondary {
        background-color: #6b7280;
        color: white;
      }
      
      .btn-success {
        background-color: #059669;
        color: white;
      }
      
      .btn-large {
        padding: 1rem 2rem;
        font-size: 1.125rem;
      }
      
      .form-group {
        margin-bottom: 1.5rem;
      }
      
      .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #374151;
      }
      
      .form-control {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.5rem;
        font-size: 1rem;
        transition: border-color 0.2s;
      }
      
      .form-control:focus {
        outline: none;
        border-color: #1d4ed8;
        box-shadow: 0 0 0 3px rgba(29, 78, 216, 0.1);
      }
      
      .form-error {
        margin-top: 0.25rem;
        color: #dc2626;
        font-size: 0.875rem;
      }
      
      .text-center {
        text-align: center;
      }
      
      .text-sm {
        font-size: 0.875rem;
      }
      
      .text-muted {
        color: #6b7280;
      }
      
      .footer {
        text-align: center;
        padding: 2rem;
        color: #6b7280;
        font-size: 0.875rem;
        border-top: 1px solid #e5e7eb;
        background-color: white;
        margin-top: 3rem;
      }
      
      @media (max-width: 768px) {
        .candidate-container {
          padding: 1rem 0.5rem;
        }
        
        .candidate-header h1 {
          font-size: 1.5rem;
        }
        
        .step-indicator {
          flex-direction: column;
          gap: 0.5rem;
        }
        
        .step-indicator li:not(:last-child)::after {
          display: none;
        }
        
        .candidate-card-body {
          padding: 1.5rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="candidate-container">
      <header class="candidate-header">
        <h1>ðŸš€ Fast Track</h1>
        <p class="subtitle">Candidature simplifiÃ©e aux marchÃ©s publics</p>
      </header>

      <% if notice %>
        <div class="alert alert-success">
          <%= notice %>
        </div>
      <% end %>

      <% if alert %>
        <div class="alert alert-error">
          <%= alert %>
        </div>
      <% end %>

      <% flash.each do |type, message| %>
        <% next if %w[notice alert].include?(type) %>
        <div class="alert alert-<%= type == 'error' ? 'error' : 'warning' %>">
          <%= message %>
        </div>
      <% end %>

      <main>
        <%= yield %>
      </main>

      <footer class="footer">
        <p>
          ðŸ‡«ðŸ‡· RÃ©publique FranÃ§aise - Fast Track<br>
          Plateforme officielle de candidature simplifiÃ©e aux marchÃ©s publics
        </p>
      </footer>
    </div>
  </body>
</html>